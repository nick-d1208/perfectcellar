var forgottenPassView=function(){"use strict";var t={},o=null,e="forgottenPassView",n={},r=null,a=null,i=!1;return t.backButtonClicked=new Event(e),t.submitButtonClicked=new Event(e),ClickControl&&(n.back=new ClickControl({selector:"#forgotten-password",childSelector:".mp3-header .icon-left",callback:function(){t.backButtonClicked.notify()}}),n.submit=new ClickControl({selector:"#forgotten-password",childSelector:".submit",callback:function(){$("#forgotten-password input").removeClass("invalid"),t.submitButtonClicked.notify({email:$("#forgotten-password .input-email")})}})),t.start=function(){o=new PageTransitions({el:"#forgotten-password",transition:"left"}),a=new IScroll("#forgotten-password .wrapper-scroller",{hScrollbar:!1,vScrollbar:!1,hideScrollbar:!0,hideScrollbars:!0}),r=_.template($(".ajax-loader-template").html())},t.show=function(t,e){i=!0,$("#forgotten-password, .trans-overlay").addClass("active"),e=!$.isEmptyObject(e)&&e&&"undefined"!=typeof e.dir?e.dir:"left",o.in(e,null,function(){$(".trans-overlay").removeClass("active"),"function"==typeof t&&t()})},t.hide=function(t,e){i=!1,e=!$.isEmptyObject(e)&&e&&"undefined"!=typeof e.dir?e.dir:"left",o.out(e,null,function(){$("#forgotten-password").removeClass("active"),"function"==typeof t&&t()})},t.showLoader=function(){$(".disable-overlay").addClass("show"),t.hideLoader(!0),$("#forgotten-password").append(r())},t.hideLoader=function(t){t||$(".disable-overlay").removeClass("show"),$("#forgotten-password .ajax-loader").remove()},t.clearDetails=function(){$("#forgotten-password input").val("")},t}(),forgottenPassController=function(){"use strict";function t(t){if(n=!0,""===t.email.val()&&(t.email.addClass("invalid"),n=!1),!n)return!1;r.showLoader();var e={email:t.email.val()};handlerController.forgotpassword(e,function(t){return Popup.createConfirmPopup("Successful","Please check your email / spam folder for an email regarding the change of your password",null,"Okay"),o.hide(!1,{dir:"left"}),globalEvent.notify("login:show",{dir:"right"}),r.hideLoader(),!0},function(t){return r.hideLoader(),Popup.createConfirmPopup("Unsuccessful","Please check your internet connection.",null,"Okay"),!1})}var o={},e=!1,n=!0,r=forgottenPassView;return globalEvent.attach("app:ready",function(){o.start()}),globalEvent.attach("forgottenpassword:show",function(t){o.show(!1,t)}),r.backButtonClicked.attach(function(){o.hide(!1,{dir:"left"}),globalEvent.notify("login:show",{dir:"right"})}),r.submitButtonClicked.attach(function(o,e){t(e)}),o.start=function(){r.start()},o.hide=function(t,o){e=!1,r.hide(function(){r.clearDetails(),"function"==typeof t&&t()},o)},o.show=function(t,o){e=!0,r.show(function(){"function"==typeof t&&t()},o)},o}();